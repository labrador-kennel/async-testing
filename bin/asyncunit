#!/usr/bin/php
<?php

namespace Cspray\Labrador\AsyncUnit;

$cwd = getcwd();

require_once $cwd . '/vendor/autoload.php';

use Cspray\Labrador\AsyncUnitCli\AsyncUnitConsoleApplication;
use Cspray\Labrador\AsyncUnitCli\ConfigurationFactory;
use Cspray\Labrador\EnvironmentType;
use Cspray\Labrador\StandardEnvironment;
use Psr\Log\NullLogger;

$environment = new StandardEnvironment(EnvironmentType::Development());
$logger = new NullLogger();

$configurationFactory = new ConfigurationFactory();

$application = new AsyncUnitConsoleApplication(
    $configurationFactory,
    new TestFrameworkApplicationObjectGraph($environment, $logger),
    $cwd,
    '0.5.0-dev'
);

$application->run();
