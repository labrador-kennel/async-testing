#!/usr/bin/php
<?php

namespace Cspray\Labrador\AsyncUnit;

require_once dirname(__DIR__) . '/vendor/autoload.php';

use Cspray\Labrador\AsyncUnit\CliTool\AsyncUnitCliApplication;
use Cspray\Labrador\AsyncUnit\CliTool\ConfigurationFactory;
use Cspray\Labrador\EnvironmentType;
use Cspray\Labrador\StandardEnvironment;
use Psr\Log\NullLogger;

$environment = new StandardEnvironment(EnvironmentType::Development());
$logger = new NullLogger();

$configurationFactory = new ConfigurationFactory();

$application = new AsyncUnitCliApplication(
    $configurationFactory,
    new TestFrameworkApplicationObjectGraph($environment, $logger),
    getcwd(),
    'HEAD'
);

$application->run();
